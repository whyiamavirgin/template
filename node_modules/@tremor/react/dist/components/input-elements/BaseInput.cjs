'use client';
"use strict";var e=require("tslib"),t=require("react"),r=require("../../assets/ExclamationFilledIcon.cjs"),a=require("../../assets/EyeIcon.cjs"),n=require("../../assets/EyeOffIcon.cjs"),o=require("./selectUtils.cjs"),l=require("../../lib/tremorTwMerge.cjs"),s=require("../../lib/utils.cjs");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=u(t);const c=d.default.forwardRef(((u,c)=>{const{value:m,defaultValue:i,type:p,placeholder:f="Type...",icon:b,error:g=!1,errorMessage:x,disabled:h=!1,stepper:k,makeInputClassName:w,className:v,onChange:E,onValueChange:M,autoFocus:N}=u,y=e.__rest(u,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus"]),[T,C]=t.useState(N||!1),[j,q]=t.useState(!1),I=t.useCallback((()=>q(!j)),[j,q]),V=b,F=t.useRef(null),L=o.hasValue(m||i);return d.default.useEffect((()=>{const e=()=>C(!0),t=()=>C(!1),r=F.current;return r&&(r.addEventListener("focus",e),r.addEventListener("blur",t),N&&r.focus()),()=>{r&&(r.removeEventListener("focus",e),r.removeEventListener("blur",t))}}),[N]),d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:l.tremorTwMerge(w("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100 border","shadow-tremor-input","dark:shadow-dark-tremor-input",o.getSelectButtonColors(L,h,g),T&&l.tremorTwMerge("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),v)},V?d.default.createElement(V,{className:l.tremorTwMerge(w("icon"),"shrink-0 h-5 w-5 mx-2.5 absolute left-0 flex items-center","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}):null,d.default.createElement("input",Object.assign({ref:s.mergeRefs([F,c]),defaultValue:i,value:m,type:j?"text":p,className:l.tremorTwMerge(w("input"),"w-full bg-transparent focus:outline-none focus:ring-0 border-none text-tremor-default rounded-tremor-default transition duration-100 py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none","password"===p?g?"pr-16":"pr-12":g?"pr-8":"pr-3",V?"pl-10":"pl-3",h?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:f,disabled:h,"data-testid":"base-input",onChange:e=>{null==E||E(e),null==M||M(e.target.value)}},y)),"password"!==p||h?null:d.default.createElement("button",{className:l.tremorTwMerge(w("toggleButton"),"absolute inset-y-0 right-0 flex items-center px-2.5 rounded-lg"),type:"button",onClick:()=>I(),"aria-label":j?"Hide password":"Show Password"},j?d.default.createElement(n,{className:l.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):d.default.createElement(a,{className:l.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),g?d.default.createElement(r,{className:l.tremorTwMerge(w("errorIcon"),"text-red-500 shrink-0 h-5 w-5 absolute right-0 flex items-center","password"===p?"mr-10":"number"===p?k?"mr-20":"mr-3":"mx-2.5")}):null,null!=k?k:null),g&&x?d.default.createElement("p",{className:l.tremorTwMerge(w("errorMessage"),"text-sm text-red-500 mt-1")},x):null)}));c.displayName="BaseInput",module.exports=c;
